╔════════════════════════════════════════════════════════════════════╗
║              CSV AGENT - QUICK REFERENCE CARD                      ║
╚════════════════════════════════════════════════════════════════════╝

📋 QUICK START (3 STEPS)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Start CSV Agent Backend
   cd csv-agent
   .\start_csv_agent.ps1
   
   ⚙️ Add your API key to .env when prompted:
   CEREBRAS_API_KEY=your_key_here

2. Start Main Backend
   cd "Research Agent Backend"
   uvicorn app:app --reload --port 8000

3. Start Frontend
   npm run dev

✅ READY! Open http://localhost:3000

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 USAGE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Upload CSV:
  1. Click 📎 paperclip icon
  2. Select CSV file
  3. Add optional message
  4. Click Send
  
  ➜ Get: Insights, Anomalies, Charts, Recommendations

Follow-up Questions:
  - "What are the top 5 products?"
  - "Show me trends over time"
  - "Are there any correlations?"
  - "Give me more detailed analysis"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔌 API ENDPOINTS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

CSV Agent: http://localhost:8001

POST /upload_csv
  Body: file (multipart/form-data)
  Returns: {session_id, insights, anomalies, charts, recommendations}

POST /chat
  Body: session_id, user_message (form-encoded)
  Returns: {response, parsed: {answer, followUp}}

GET /health
  Returns: {status: "ok"}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 KEY FILES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Backend:
  csv-agent/app_analyze.py          - Main server
  csv-agent/cerebras_csv_insights.py - Analysis logic
  csv-agent/.env                     - Configuration (YOU MUST CREATE THIS)
  csv-agent/requirements.txt         - Dependencies

Frontend:
  src/app/root/page.jsx              - UI + Upload logic
  src/services/api.js                - API functions

Docs:
  CSV_INTEGRATION_GUIDE.md           - Full guide
  CSV_INTEGRATION_SUMMARY.md         - Summary
  csv-agent/README                   - API docs

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🛠️ TROUBLESHOOTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ CSV agent won't start
   → Check: python --version (need 3.10+)
   → Run: pip install -r requirements.txt
   → Verify: CEREBRAS_API_KEY in .env

❌ Upload fails
   → Check: File is valid CSV
   → Verify: CSV agent running on port 8001
   → Test: http://localhost:8001/health

❌ No insights returned
   → Check: Server logs for errors
   → Verify: API key is valid
   → Test: With sample_sales.csv first

❌ Session not found
   → Note: Sessions clear on server restart
   → Check: session_id is correct
   → Try: Upload CSV again

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔐 ENVIRONMENT SETUP
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

csv-agent/.env (YOU MUST CREATE THIS):
  CEREBRAS_API_KEY=your_key_here
  CEREBRAS_MODEL=qwen-3-235b-a22b-instruct-2507

.env.local (optional):
  NEXT_PUBLIC_API_URL=http://localhost:8000
  NEXT_PUBLIC_CSV_API_URL=http://localhost:8001

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 EXAMPLE WORKFLOW
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. User uploads sales.csv
   ➜ AI analyzes: "Total sales: $15,420 across 56 orders"
   
2. User asks: "Which products sell best?"
   ➜ AI responds: "Product A: $6,939 (45% of revenue)"
   
3. AI suggests follow-ups:
   • "Show me sales trends for Product A"
   • "What time periods have highest sales?"
   • "Are there seasonal patterns?"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎨 UI FEATURES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✓ Paperclip button (📎) for file upload
✓ File preview with name, size, remove button
✓ Beautiful colored cards:
  • Blue: Insights 💡
  • Orange: Anomalies ⚠️
  • Blue gradient: Charts 📊
  • Green: Recommendations ✅
✓ Follow-up suggestions as clickable pills
✓ Smart routing (CSV vs Business queries)
✓ Session persistence for follow-ups

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📞 TESTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Health Check:
  curl http://localhost:8001/health

Upload Test:
  curl -X POST "http://localhost:8001/upload_csv" \
    -F "file=@csv-agent/sample_sales.csv"

API Docs:
  http://localhost:8001/docs

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📚 DOCUMENTATION
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Full Integration Guide:  CSV_INTEGRATION_GUIDE.md
Summary:                 CSV_INTEGRATION_SUMMARY.md
API Documentation:       csv-agent/README
Sample Data:            csv-agent/sample_sales.csv

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎉 STATUS: INTEGRATION COMPLETE!
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

All components are integrated and ready to use!
Follow the Quick Start steps above to begin.

Version: 1.0.0 | October 2025
